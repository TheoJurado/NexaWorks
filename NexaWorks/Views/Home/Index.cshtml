@{
    ViewData["Title"] = "Home Page";
}
@model List<Ticket>

<html>
<head>
    <title>Gestion des Tickets</title>
</head>
<body>
    <div>
        <!-- buttons part -->
        <h2>Actions</h2>
        <div>
            <form method="get" action="@Url.Action("AllTicketsNotResolved", "Home")">
                <button type="submit">Tous les tickets non résolus</button>
            </form>
            <form method="get" action="@Url.Action("AllTicketsNotResolvedFromProduct", "Home")">
                <input type="hidden" name="productId" value="1" />
                <button type="submit">Tickets non résolus pour un produit</button>
            </form>
            <form method="get" action="@Url.Action("AllTicketsNotResolvedFromVersion", "Home")">
                <input type="hidden" name="words" value="bug,crash" />
                <button type="submit">Rechercher par mots-clés</button>
            </form>
        </div>
    </div>

    <hr />

    <!-- results part -->
    <div>
        <h2>Résultats</h2>
        @if (Model != null && Model.Count > 0)
        {
            <table>
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Description</th>
                        <th>Date de Création</th>
                        <th>Date de Résolution</th>
                        <th>Description de Résolution</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var ticket in Model)
                    {
                        <tr>
                            <td>@ticket.Id</td>
                            <td>@ticket.Description</td>
                            <td>@ticket.DateCreat</td>
                            @if (ticket.IsResolved)
                            {
                                <td>@ticket.DateResolve</td>
                                <td>@ticket.ResolveDescription</td>
                            }
                        </tr>
                    }
                </tbody>
            </table>
        }
        else
        {
            <p>Aucun résultat trouvé.</p>
        }
    </div>
</body>
</html>
